<!-- <div class="wrapper">
  <div class="container profile-container">
    <div class="profile-header">
      <img src="/assets/pfp.jpg" alt="Profile Picture" class="profile-pic" />
      <h1 class="text-primary">
        {{ profile.name }} <span> {{ profile.last_name }}</span>
      </h1>
    </div>
    <div class="profile-info">
      <p><strong>Name:</strong> {{ profile.name }}</p>
      <p><strong>Last Name:</strong> {{ profile.last_name }}</p>
      <p><strong>Address:</strong> {{ profile.address }}</p>
      <p><strong>Email:</strong> {{ profile.email }}</p>
      <p><strong>Username:</strong> {{ profile.username }}</p>
      <p><strong>Role:</strong> {{ user.role }}</p>
    </div>
    <div class="profile-actions">
      <button class="btn btn-danger" (click)="deleteProfile()">
        Delete Account
      </button>
      <button class="btn btn-warning">
        <a class="btn-edit"
          [routerLink]="'/update-profile'"
          [queryParams]="{ email: profile.email }"
          >Edit</a
        >
      </button>
      <button
        *ngIf="isHost()"
        class="btn btn-primary"
        (click)="toggleAccommodations()"
      >
        Show Accommodations
      </button>
      <button
        *ngIf="!isHost()"
        class="btn btn-primary"
        (click)="toggleReservations()"
      >
        Show Reservations
      </button>
    </div>
  </div>

  <div *ngIf="showAccommodations" class="cards-wrapper">
    <div
      *ngFor="let accommodation of accomms"
      class="card"
      style="width: 18rem"
    >
      <img
        class="card-img-top"
        src="/assets/accommex.png"
        alt="Card image cap"
      />
      <div class="card-body">
        <h5 class="card-title">{{ accommodation.name }}</h5>
        <p class="card-text">{{ accommodation.location }}</p>
        <a href="#" class="btn btn-primary">Edit</a>
        <a
          [routerLink]="'/create-period'"
          [queryParams]="{ id: accommodation.id }"
          class="btn btn-primary"
          >Add Period</a
        >

        <a
        [routerLink]="'/add-pictures-accomm'"
        [queryParams]="{ id: accommodation.id }"
        class="btn btn-primary"
        >Add Pictures</a
      >
        <a class="btn btn-danger" (click)='deleteAccomm(accommodation.id)'>Delete</a>
      </div>
    </div>
  </div>

  <div *ngIf="showReservations" class="cards-wrapper">
    <div
      *ngFor="let reservation of activeReservations"
      class="card"
      style="width: 18rem"
    >
      <div class="card-body">
        <h5 class="card-title">
          <span>Start: </span>{{ reservation.StartDate }}
        </h5>
        <p class="card-text"><span>End: </span> {{ reservation.EndDate }}</p>
        <a class="btn btn-primary">Delete</a>
      </div>
    </div>
  </div>
  <div class="notifications">
    <div  class="notification-list">
      <div *ngFor="let notification of notifications" class="notification">
        <div class="alert alert-primary" role="alert">
          <b>{{ notification.Text }}</b><br> <span> Sent on: </span>{{notification.time}}
        </div>
      </div>
    </div>
  </div>
  <div class="overlay" *ngIf="showOverlay" (click)="toggleOverlay()">
  <div class="history-wrap" *ngFor="let reservation of reservationHistory">
    <div class="card" style="width: 18rem;">
      <img class="card-img-top" src="..." alt="Card image cap">
      <div class="card-body">
        <h5 class="card-title">{{reservation.StartDate}}</h5>
        <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
        <a href="#" class="btn btn-primary">Go somewhere</a>
        <div class="rating" (mouseleave)="reset()">
          <p>Rate accommodation:</p>
          <span class="star" *ngFor="let star of stars" (mouseenter)="fill(star)" (click)="rate(star, reservation)">
            <i class="fa" [ngClass]="star <= currentRating ? 'fa-star' : 'fa-star-o'"></i>
          </span>
        </div>
        <p>Rate host:</p>
        <div class="rating" (mouseleave)="reset()">
          <span class="star" *ngFor="let star of stars" (mouseenter)="fill(star)" (click)="rateHost(star, reservation)">
            <i class="fa" [ngClass]="star <= currentRating ? 'fa-star' : 'fa-star-o'"></i>
          </span>
        </div>
      </div>
    </div>

  </div>
  </div>
  <button (click)="toggleOverlay()">Show Overlay</button>
 -->
<div class="notifications">
  <div class="notification-list">
    <div *ngFor="let notification of notifications" class="notification">
      <div class="alert alert-primary" role="alert">
        <b>{{ notification.Text }}</b
        ><br />
        <span> Sent on: </span>{{ notification.time }}
      </div>
    </div>
  </div>
</div>
<div class="container">
  <div class="main-body">
    <nav aria-label="breadcrumb" class="main-breadcrumb">
      <ol class="breadcrumb">
        <li class="breadcrumb-item"><a href="index.html">Home</a></li>
        <li class="breadcrumb-item active" aria-current="page">User Profile</li>
      </ol>
    </nav>

    <div class="row gutters-sm">
      <div class="col-md-4 mb-3">
        <div class="card">
          <div class="card-body">
            <div class="d-flex flex-column align-items-center text-center">
              <img
                src="https://bootdey.com/img/Content/avatar/avatar7.png"
                alt="Admin"
                class="rounded-circle"
                width="150"
              />
              <div class="mt-3">
                <h4>
                  <span>{{ profile.name }}</span
                  ><span> {{ profile.last_name }}</span>
                </h4>
                <p class="text-secondary mb-1">{{ profile.role }}</p>
                <p class="text-muted font-size-sm">{{ profile.address }}</p>
                <button class="btn btn-danger" (click)="deleteProfile()">
                  Delete
                </button>
                <button
                  *ngIf="!isHost()"
                  (click)="toggleReservations()"
                  class="btn btn-outline-primary"
                >
                  Show Reservations
                </button>
                <button
                  *ngIf="isHost()"
                  (click)="toggleAccommodations()"
                  class="btn btn-outline-primary"
                >
                  Show Accommodations
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="card mt-3">
          <ul class="list-group list-group-flush">
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-globe mr-2 icon-inline"
                >
                  <circle cx="12" cy="12" r="10"></circle>
                  <line x1="2" y1="12" x2="22" y2="12"></line>
                  <path
                    d="M12 2a15.3 15.3 0 0 1 4 10 15.3 15.3 0 0 1-4 10 15.3 15.3 0 0 1-4-10 15.3 15.3 0 0 1 4-10z"
                  ></path></svg
                >Website
              </h6>
              <span class="text-secondary"
                >https://<span>{{ profile.name }}</span
                ><span>.{{ profile.last_name }}.com</span></span
              >
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-github mr-2 icon-inline"
                >
                  <path
                    d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"
                  ></path></svg
                >Github
              </h6>
              <span class="text-secondary"
                ><span>{{ profile.username }}</span></span
              >
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-twitter mr-2 icon-inline text-info"
                >
                  <path
                    d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"
                  ></path></svg
                >Twitter
              </h6>
              <span class="text-secondary"
                ><span>{{ profile.name }}_332</span></span
              >
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-instagram mr-2 icon-inline text-danger"
                >
                  <rect x="2" y="2" width="20" height="20" rx="5" ry="5"></rect>
                  <path
                    d="M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z"
                  ></path>
                  <line x1="17.5" y1="6.5" x2="17.51" y2="6.5"></line></svg
                >Instagram
              </h6>
              <span class="text-secondary">{{ profile.name }}_332</span>
            </li>
            <li
              class="list-group-item d-flex justify-content-between align-items-center flex-wrap"
            >
              <h6 class="mb-0">
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="feather feather-facebook mr-2 icon-inline text-primary"
                >
                  <path
                    d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"
                  ></path></svg
                >Facebook
              </h6>
              <span class="text-secondary"
                ><span>{{ profile.name }}</span
                ><span> {{ profile.last_name }}</span></span
              >
            </li>
          </ul>
        </div>
      </div>
      <div class="col-md-8">
        <div class="card mb-3">
          <div class="card-body">
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">User ID</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <span>{{ profile.id }}</span>
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Full Name</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <span>{{ profile.name }}</span
                ><span> {{ profile.last_name }}</span>
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Email</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                <span>{{ profile.email }}</span>
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Username</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ profile.username }}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-3">
                <h6 class="mb-0">Address</h6>
              </div>
              <div class="col-sm-9 text-secondary">
                {{ profile.address }}
              </div>
            </div>
            <hr />
            <div class="row">
              <div class="col-sm-12">
                <a
                  class="btn btn-info"
                  [routerLink]="'/update-profile'"
                  [queryParams]="{ email: profile.email }"
                  target="__blank"
                  >Edit</a
                >
                <a
                  class="btn btn-outline-primary"
                  *ngIf="isHost()"
                  (click)="toggleRatings()"
                  >Show Your Rating</a
                >
                <a
                  class="btn btn-outline-primary"
                  *ngIf="!isHost()"
                  (click)="toggleOverlay()"
                  >Show Reservation History</a
                >
              </div>
            </div>
          </div>
        </div>
        <div class="row gutters-sm">
          <div class="col-sm-6 mb-3">
            <div class="card h-100">
              <div>
                <div *ngIf="showRatings" class="reviews-wrap">
                  <h1>Host Reviews</h1>
                  <div *ngFor="let review of reviews" class="review">
                    <p>
                      <span><b>Name: </b></span>{{ review.Guest.name }}
                      {{ review.Guest.last_name }}
                    </p>
                    <p>
                      <span><b>Time: </b> </span>{{ review.Time }}
                    </p>
                    <div class="rating">
                      <span style="color: black"><b>Review: </b> </span
                      ><span
                        class="star"
                        *ngFor="let star of stars"
                        [ngClass]="star <= review.Rating ? 'filled' : ''"
                        >&#9733;</span
                      >
                    </div>
                    <hr />
                  </div>
                </div>

                <div>
                  <div *ngIf="showRatings" class="reviews-wrap">
                    <h1>Accommodation Reviews</h1>
                    <div class="scroll-reviews">
                      <div *ngFor="let review of accomReviews" class="review">
                        <p>
                          <span><b>Name: </b></span>{{ review.Guest.name }}
                          {{ review.Guest.last_name }}
                        </p>
                        <p>
                          <span><b>Time: </b> </span>{{ review.Time }}
                        </p>
                        <div class="rating">
                          <span style="color: black"><b>Review: </b> </span
                          ><span
                            class="star"
                            *ngFor="let star of stars"
                            [ngClass]="star <= review.Rating ? 'filled' : ''"
                            >&#9733;</span
                          >
                        </div>
                        <hr />
                      </div>
                    </div>
                  </div>

                  <div>
                    <div
                      *ngIf="showAccommodations"
                      class="card-body cards-down"
                    >
                      <div *ngFor="let accommodation of accomms">
                        <div class="card-wrap">
                          <img
                            class="card-img-top"
                            [src]="
                              'data:image/jpeg;base64,' +
                              accommodation.picture[0]
                            "
                            alt="Card image cap"
                          />
                          <div class="card-body">
                            <h5
                              class="card-title"
                              style="font-size: 18px; padding: 0"
                            >
                              {{ accommodation.name }}
                            </h5>
                          </div>
                          <ul class="list-group list-group-flush">
                            <li class="list-group-item">
                              <span><b>Location: </b></span
                              >{{ accommodation.location }}
                            </li>
                            <li class="list-group-item">
                              <span><b>Min guests: </b></span
                              >{{ accommodation.minGuestNum }}
                            </li>
                            <li class="list-group-item">
                              <span><b>Max guests: </b></span
                              >{{ accommodation.maxGuestNum }}
                            </li>
                          </ul>
                          <div class="card-body links">
                            <a
                              [routerLink]="'/add-pictures-accomm'"
                              [queryParams]="{ id: accommodation.id }"
                              class="card-link"
                              >Add Pictures</a
                            >
                            <a
                              [routerLink]="'/create-period'"
                              [queryParams]="{ id: accommodation.id }"
                              class="card-link"
                              >Add Period</a
                            >
                            <a
                              style="color: red"
                              (click)="deleteAccomm(accommodation.id)"
                              class="card-link"
                              >Delete</a
                            >
                          </div>
                        </div>
                      </div>
                    </div>

                    <div>
                      <div
                        *ngIf="showReservations"
                        class="card-body cards-down"
                      >
                        <div *ngFor="let reservation of activeReservations">
                          <div class="card-wrap">
                            <img
                              class="card-img-top"
                              [src]="
                                'data:image/jpeg;base64,' +
                                reservation.picture[0]
                              "
                              alt="Card image cap"
                            />
                            <div class="card-body">
                              <h5
                                class="card-title"
                                style="font-size: 18px; padding: 0"
                              >
                                {{ reservation.accommodation.name }}
                              </h5>
                            </div>
                            <ul class="list-group list-group-flush">
                              <li class="list-group-item">
                                <span><b>Start Date: </b></span
                                >{{ reservation.StartDate }}
                              </li>
                              <li class="list-group-item">
                                <span><b>End Date: </b></span
                                >{{ reservation.EndDate }}
                              </li>
                              <li class="list-group-item">
                                <span><b>Guest Num: </b></span
                                >{{ reservation.GuestNum }}
                              </li>
                              <li class="list-group-item">
                                <span><b>Price: </b></span
                                >{{ reservation.Price }}€
                              </li>
                            </ul>
                            <div class="card-body">
                              <a
                                style="color: red"
                                class="card-link"
                                (click)="cancelReservation(reservation.Id)"
                                >Cancel Reservation</a
                              >
                            </div>
                          </div>
                        </div>
                      </div>

                      <div>
                        <div *ngIf="showOverlay" class="card-body cards-down">
                          <div *ngFor="let reservation of reservationHistory">
                            <div class="card-wrap">
                              <img
                                class="card-img-top"
                                [src]="
                                  'data:image/jpeg;base64,' +
                                  reservation.picture[0]
                                "
                                alt="Card image cap"
                              />
                              <div class="card-body">
                                <h5
                                  class="card-title"
                                  style="font-size: 18px; padding: 0"
                                >
                                  {{ reservation.accommodation.name }}
                                </h5>
                              </div>
                              <ul class="list-group list-group-flush">
                                <li class="list-group-item">
                                  <span><b>Start Date: </b></span
                                  >{{ reservation.StartDate }}
                                </li>
                                <li class="list-group-item">
                                  <span><b>End Date: </b></span
                                  >{{ reservation.EndDate }}
                                </li>
                                <li class="list-group-item">
                                  <span><b>Guest Num: </b></span
                                  >{{ reservation.GuestNum }}
                                </li>
                                <li class="list-group-item">
                                  <span><b>Price: </b></span
                                  >{{ reservation.Price }}€
                                </li>
                              </ul>
                              <div class="card-body">
                                <div class="rating" (mouseleave)="reset()">
                                  <p class="text-rate">Rate accommodation:</p>
                                  <span
                                    class="star"
                                    *ngFor="let star of stars"
                                    (mouseenter)="fill(star)"
                                    (click)="rate(star, reservation)"
                                  >
                                    <i
                                      class="fa"
                                      [ngClass]="
                                        star <= currentRating
                                          ? 'fa-star'
                                          : 'fa-star-o'
                                      "
                                    ></i>
                                  </span>
                                </div>
                                <p class="text-rate">Rate host:</p>
                                <div class="rating" (mouseleave)="reset()">
                                  <span
                                    class="star"
                                    *ngFor="let star of stars"
                                    (mouseenter)="fill(star)"
                                    (click)="rateHost(star, reservation)"
                                  >
                                    <i
                                      class="fa"
                                      [ngClass]="
                                        star <= currentRating
                                          ? 'fa-star'
                                          : 'fa-star-o'
                                      "
                                    ></i>
                                  </span>
                                </div>
                              </div>
                            </div>
                          </div>

                          <!-- <div>
                    <div *ngIf="showRatings"  >
                    <div *ngFor="let review of reviews" class="review">
                      <p>{{ review.GuestId }}</p>
                      <div class="rating">
                        <span class="star" *ngFor="let star of stars" [ngClass]="star <= review.Rating ? 'filled' : ''">&#9733;</span>
                      </div>
                    </div>
                  </div> -->
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
